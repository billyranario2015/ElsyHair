!function(i){var t={itemSelector:"> div",itemWidth:220,marginX:10,marginY:10,align:"left",fitWidth:!0,animate:!0,autoResize:!0,resizeDelay:50};i.fn.pinto=function(e){var n=i(this),o=i.extend(t,e);n.css("position","relative");var a=function(){if(n.is(":visible")){for(var t=o.animate?"top 0.5s, left 0.5s":"none",e=n.find(o.itemSelector),a=n.innerWidth(),r=parseInt(o.marginX||0),s=parseInt(o.marginY||0),l=o.itemWidth,f=Math.max(Math.floor(a/(l+r)),1),h=[],m=f;m--;)h.push(0);var u=0;for(o.fitWidth?l+=Math.floor(.5+(a-f*(l+r))/f):"center"===o.align?u+=Math.floor(.5+(a-f*(l+r))>>1):"right"===o.align&&(u+=Math.floor(.5+a-f*(l+r))),e.each(function(e,n){var o=i(n),a;a=0;for(var f=1,m=h.length;m>f;f++)h[f]<h[a]&&(a=f);o.css({position:"absolute",top:h[a]+s/2+"px",left:(l+r)*a+u+"px",width:l,margin:s/2+"px "+r/2+"px",transition:t}),h[a]+=o.innerHeight()+s}),e=0,m=f;m--;)h[m]>e&&(e=h[m]);n.css({height:e})}},r=null;e=function(){clearTimeout(r),r=setTimeout(a,o.resizeDelay)},a(),o.autoResize&&(e=i(window).on("resize",e),n.on("remove",e.unbind))}}(window.jQuery);